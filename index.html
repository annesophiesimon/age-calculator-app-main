<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->

  <link rel="icon" type="image/png" sizes="32x32" href="./assets/images/favicon-32x32.png">
  <link href="./dist/output.css" rel="stylesheet">
  <title>Frontend Mentor | Age calculator app</title>


</head>
<body class="flex justify-center items-center bg-slate-100 min-h-screen text-slate-600">
  <div class=" bg-white p-6 rounded-t-[30px] rounded-l-[30px] rounded-br-[40%]">
    <form id="ageForm">
      <div class="flex font-bold mb-2">
        <div class="flex flex-col gap-1">
          <label for="day"> DAY </label>
          <input class="rounded-md border-[1px] border-slate-300 p-2 w-24 mr-2" type="text" id="day" name="day" placeholder="DD">
        </div>
        <div class="flex flex-col gap-1">
          <label for="month"> MONTH </label>
          <input class="rounded-md border-[1px] border-slate-300 p-2 w-24 mr-2" type="text" id="month" name="month" placeholder="MM">
        </div>
        <div class="flex flex-col gap-1">
          <label for="year"> YEAR </label>
          <input  class="rounded-md border-[1px] border-slate-300 p-2 w-24" type="text" id="year" name="year" placeholder="YYYY">
        </div>
      </div>
      <div class="flex items-center">
        <hr class="w-96"> 
          <button class="flex h-12 w-12 bg-purple-600 hover:bg-black rounded-full justify-center items-center"  type="submit">
             <img class="h-8 w-8" src="assets/images/icon-arrow.svg" alt="icon-arrow" /> 
          </button>
      </div>
    </form>
    <div class="font-poppins-ebi text-6xl text-black">
      <p><span class="text-purple-600" id="dataAge">--</span> years</p>
      <p><span class="text-purple-600" id="dataMonth" >--</span> months</p>
      <p><span class="text-purple-600" id="dataYear">--</span> days</p>
    </div>
  </div>
    <!-- <div class="attribution">
      Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>. 
      Coded by <a href="#">Anne-Sophie S</a>.
    </div> -->



<script>
  var dayInput = document.getElementById("day");
  var monthInput = document.getElementById("month");
  var yearInput = document.getElementById("year");
  var form_el = document.getElementById("ageForm");

  form_el.addEventListener("submit", function(evt) {
    evt.preventDefault();
      fillArray();
});

function fillArray() {
  if(dayInput.value.length !== 0 && monthInput.value.length !== 0 && yearInput.value.length !== 0) {
    calculateAge(dayInput.value, monthInput.value, yearInput.value)
  }
  else {
    console.log("error")
  }
}

function calculateAge(dayValue, monthsValue, yearValue) {
  const formattedDate = `${yearValue}-${monthsValue.padStart(2, '0')}-${dayValue.padStart(2, '0')}`;
  const birthDay = new Date(formattedDate);
  const today = new Date();
  
  let age = today.getFullYear() - birthDay.getFullYear();
  let months = today.getMonth() - birthDay.getMonth();
  let days = today.getDate() - birthDay.getDate();
  
  // Check if the current month and day are before the birth month and day
  if (months < 0 || (months === 0 && days < 0)) {
    age--;
    months += 12;
  }
  
  // Adjust months if the birth day hasn't occurred yet
  if (days < 0) {
    months--;
    days += new Date(today.getFullYear(), today.getMonth(), 0).getDate();
  }
  
    document.getElementById("dataAge").innerHTML = age;
    document.getElementById("dataMonth").innerHTML = months;
    document.getElementById("dataYear").innerHTML = days;
}

</script>
</body>
</html>